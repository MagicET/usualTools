<!doctype html>

<html lang="ja">
<head>
  <meta charset="utf-8">

  <title id="title">YouTubeビューワー</title>
  
  <script>
  
  </script>
</head>

<body>
    <script>
  	function getParam(name, url) {
    	if (!url) url = window.location.href;
    	name = name.replace(/[\[\]]/g, "\\$&");
    	var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    	if (!results) return null;
    	if (!results[2]) return '';
    	return decodeURIComponent(results[2].replace(/\+/g, " "));
		}
    
    function placePlayer() {
      console.log("Try to change");
      var videoID = getParam('id');
      
    	let player = document.createElement('iframe');
      player.id = "player";
      player.width = 560;
      player.height = 315;
      player.src = "https://www.youtube.com/embed/" + videoID;
      player.title = "YouTube video player";
      player.frameborder = 0;
      player.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";
      player.allowfullscreen = true;
      
      document.body.appendChild(player);
    }
    
    placePlayer();
    
    let p = document.createElement('p');
    p.innerHTML = getParam('id');
    document.body.appendChild(p);
  </script>
</body>
</html>
